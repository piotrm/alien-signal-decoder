Doesn't seem like a perfect example of "Ruby way" coding, but it works :)
